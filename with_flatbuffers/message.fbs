enum RequestType : short {
  Add, Subtract
}

struct Add {
  a: int;
  b: int;
}

struct Subtract {
  a: int;
  b: int;
}

union Command { Add, Subtract }

struct AddReturnValue {
  value: int;
}

struct SubtractReturnValue {
  value: int;
}

union ReturnValue { AddReturnValue, SubtractReturnValue }

table Request {
  id: int;
  request_type: RequestType;
  command: Command;
}

table Response {
  id: int;
  request_type: RequestType;
  return_value: ReturnValue;
}
